<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no" />
	<title>Document</title>
	<style>

	#div1{width: 100px; height: 100px; background: red;}
	</style>
	<script>
	var str = '4332365456524';
	function test(str){
		var iNum = str.length%3;
		//alert(iNum)
		var prev = '';
		var arr = [];
		var iNow = 0;
		var tmp = '';
		if(iNum!=0){
			prev = str.substring(0,iNum);
			arr.push(prev);
		};
		str = str.substring(iNum);
		for(var i=0;i<str.length;i++){ //循环3次装载一组数组
			iNow++;
			tmp+=str[i];
			if(iNow == 3 && tmp){
				arr.push(tmp);

				iNow = 0;
				tmp = '';
			};
		};
		return arr
	};
	console.log(test(str).join('.'));


	var num = 1000000001221

	function test(num) {
		var str = num+""

		var arr = str.split('')

		var _arr = []

		while(arr.length) {
			let start = arr.length-3
			if(arr.length>=3) {
				_arr.unshift(arr.splice(arr.length-3, 3).join(''))
			} else {
				_arr.unshift(arr.splice(0, arr.length).join(''))
			}
		}
		console.log(_arr)
		return _arr.join(',')
	}

	test(num)

	/*function test(str){ //正则匹配千分位逗号分隔；用到知识点有前向声明，反前向声明，量词，
		var re = /(?!\b)(?=(\d{3})+$)/g;
		return str.replace(re,',');
	};

	alert(test(str));
*/

function test(s) {
    var [a, b] = str.split('.');
    var iNum = a.length%3;

    var rightStr = a.substring(1);
    var arr = [];
    if (iNum !== 0) {
      var leftStr = a.substring(0, 1);
      arr.push(leftStr);
    }
    let index = 0;
    var tempStr = '';
    [...rightStr].forEach((ele, i) => {
      index++;
      tempStr += ele;
      if(index === 3) {
        arr.push(tempStr);
        tempStr = '';
        index = 0;
      }
    });
    return arr.join(',')+`.${b}`;
  }






	</script>
</head>
<body>


</body>
</html>